<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Behavior Report | SIX Financial Insights</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles for the report page */
        .container {
            width: 97.5%;
            margin: 0 auto;
            padding: 20px;
            background-color: #1e1e1e;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .report-header h1 {
            margin: 0;
        }

        .report-nav ul {
            list-style: none;
            padding: 0;
            display: flex;
            gap: 15px;
        }

        .report-nav ul li a {
            color: #ccc;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s ease;
        }

        .report-nav ul li a:hover,
        .report-nav ul li a.active {
            color: rgb(205, 72, 43);
        }

        .dashboard_report {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width:96%;
        }

        .card {
            background-color: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .report-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .timeframe-selector {
            display: flex;
            gap: 8px;
        }

        .timeframe-btn {
            background-color: #323232;
            color: #ccc;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .timeframe-btn:hover {
            background-color: #444;
        }

        .timeframe-btn.active {
            background-color: rgb(205, 72, 43);
            color: white;
            border-color: rgb(205, 72, 43);
        }

        .ai-insights {
            margin-bottom: 15px;
            padding: 12px;
            background-color: #323232;
            border-radius: 8px;
        }

        .ai-insights h3 {
            color: white;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .ai-insights p,
        .ai-insights ul {
            color: #ccc;
            line-height: 1.4;
            font-size: 12px;
        }

        .behavioral-metrics {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
            background-color: #222;
            padding: 12px;
            border-radius: 8px;
        }

        .metric {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .metric-label {
            font-size: 10px;
            color: #aaa;
            margin-bottom: 3px;
        }

        .metric-value {
            font-size: 14px;
            font-weight: bold;
            color: white;
        }

        .recommended-actions {
            margin-bottom: 15px;
            padding: 12px;
            background-color: #323232;
            border-radius: 8px;
        }

        .recommended-actions h3 {
            color: white;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .recommended-actions p {
            color: #ccc;
            line-height: 1.4;
            font-size: 12px;
        }

        .report-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 12px;
        }

        .report-table th,
        .report-table td {
            border: 1px solid #444;
            padding: 8px;
            text-align: left;
        }

        .report-table th {
            background-color: #323232;
        }

        .report-table tbody tr:nth-child(even) {
            background-color: #222;
        }

        .additional-notes {
            width: 100%;
            height: 100px;
            padding: 10px;
            border: 1px solid #444;
            background-color: #323232;
            color: #ccc;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="report-header">
            <h1><img src="assets/SIX_Group_logo.png" alt="SIX Logo" class="logo"></h1>
            <nav class="report-nav">
                <ul>
                    <li><a href="/report" class="active">Client Behavior</a></li>
                    <li><a href="#">Analytics</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </nav>
        </header>

        <div class="dashboard_report">
            <!-- Client Behavior Analysis Section -->
            <div class="card report-section">
                <div class="report-header-row">
                    <h2>Client Behavior Analysis</h2>
                    <!-- Timeframe selector -->
                    <div class="timeframe-selector">
                        <button class="timeframe-btn" data-period="1m">1M</button>
                        <button class="timeframe-btn active" data-period="3m">3M</button>
                        <button class="timeframe-btn" data-period="6m">6M</button>
                        <button class="timeframe-btn" data-period="1y">1Y</button>
                    </div>
                </div>

                <!-- AI-Generated Insights -->
                <div class="ai-insights">
                    <h3>AI-Driven Behavioral Insights</h3>
                    <p id="ai-summary">Over the last 3 months, the client has shown a keen interest in technology stocks, particularly in AI and renewable energy. Their risk appetite is moderate, with a tendency to rebalance the portfolio monthly.</p>
                    <ul id="key-observations">
                        <li>Increased trading volume in the tech sector</li>
                        <li>Consistent portfolio diversification across multiple sectors</li>
                        <li>Active engagement with sustainable investment options</li>
                    </ul>
                </div>

                <!-- Behavioral Metrics -->
                <div class="behavioral-metrics">
                    <h3>Key Behavioral Metrics</h3>
                    <div class="metric">
                        <span class="metric-label">Trading Frequency</span>
                        <span class="metric-value" id="trading-frequency">Medium</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Risk Tolerance</span>
                        <span class="metric-value" id="risk-tolerance">Moderate</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Investment Focus</span>
                        <span class="metric-value" id="investment-focus">Tech, Renewables, Diversified</span>
                    </div>
                </div>

                <!-- Recommended Actions -->
                <div class="recommended-actions">
                    <h3>Recommended Actions</h3>
                    <p id="recommended-actions-text">Capitalize on the client's interest in AI and renewable energy by presenting new investment opportunities in these sectors. Continue to provide diversified options to balance the portfolio's risk.</p>
                </div>
            </div>

            <!-- Client Interaction Log -->
            <div class="card report-section">
                <h2>Client Interaction Log</h2>
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Interaction Type</th>
                            <th>Summary</th>
                        </tr>
                    </thead>
                    <tbody id="interaction-log">
                        <tr>
                            <td>2025-03-18</td>
                            <td>Email</td>
                            <td>Provided update on AI stock performance</td>
                        </tr>
                        <tr>
                            <td>2025-03-10</td>
                            <td>Phone Call</td>
                            <td>Discussed portfolio rebalancing options</td>
                        </tr>
                        <tr>
                            <td>2025-03-02</td>
                            <td>Meeting</td>
                            <td>Reviewed investment strategy and goals</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Additional Notes Section -->
            <div class="card report-section">
                <h2>Additional Notes</h2>
                <textarea id="additional-notes" class="additional-notes" placeholder="Add any additional notes or observations here..."></textarea>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="basic_behaviour.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to fetch AI-generated insights
            async function fetchAIInsights(period) {
                // Placeholder data
                const data = {
                    aiSummary: `Over the last ${period}, the client has shown a keen interest in technology stocks, particularly in AI and renewable energy. Their risk appetite is moderate, with a tendency to rebalance the portfolio monthly.`,
                    keyObservations: [
                        "Increased trading volume in the tech sector",
                        "Consistent portfolio diversification across multiple sectors",
                        "Active engagement with sustainable investment options"
                    ],
                    behavioralMetrics: {
                        tradingFrequency: "Medium",
                        riskTolerance: "Moderate",
                        investmentFocus: "Tech, Renewables, Diversified"
                    },
                    recommendedActions: "Capitalize on the client's interest in AI and renewable energy by presenting new investment opportunities in these sectors. Continue to provide diversified options to balance the portfolio's risk.",
                    interactionLog: [
                        { date: "2025-03-18", type: "Email", summary: "Provided update on AI stock performance" },
                        { date: "2025-03-10", type: "Phone Call", summary: "Discussed portfolio rebalancing options" },
                        { date: "2025-03-02", type: "Meeting", summary: "Reviewed investment strategy and goals" }
                    ]
                };

                // Update AI summary
                document.getElementById('ai-summary').textContent = data.aiSummary;

                // Update key observations
                const keyObservationsList = document.getElementById('key-observations');
                keyObservationsList.innerHTML = '';
                data.keyObservations.forEach(observation => {
                    const li = document.createElement('li');
                    li.textContent = observation;
                    keyObservationsList.appendChild(li);
                });

                // Update behavioral metrics
                document.getElementById('trading-frequency').textContent = data.behavioralMetrics.tradingFrequency;
                document.getElementById('risk-tolerance').textContent = data.behavioralMetrics.riskTolerance;
                document.getElementById('investment-focus').textContent = data.behavioralMetrics.investmentFocus;

                // Update recommended actions
                document.getElementById('recommended-actions-text').textContent = data.recommendedActions;

                // Update interaction log
                const interactionLogTable = document.getElementById('interaction-log');
                interactionLogTable.innerHTML = '';
                data.interactionLog.forEach(interaction => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${interaction.date}</td>
                        <td>${interaction.type}</td>
                        <td>${interaction.summary}</td>
                    `;
                    interactionLogTable.appendChild(row);
                });
            }

            // Initial load with default period (3M)
            fetchAIInsights('3m');

            // Handle timeframe button clicks
            const timeframeButtons = document.querySelectorAll('.timeframe-btn');
            timeframeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    timeframeButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');

                    // Get the selected period
                    const period = this.getAttribute('data-period');

                    // Fetch AI insights for the selected period
                    fetchAIInsights(period);
                });
            });
        });
    </script>
</body>
</html>
